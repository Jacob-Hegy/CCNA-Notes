## Manual Time Configuration
- View time on a Cisco ISO with `# show clock` (default timezone is UTC)
	- View the clock's time source with `# show clock detail` (an asterisk next to the time means that the time is not considered authoritative)
- View a device's logs with `# show logging`
- Manually configure software clock with `# clock set <HH:MM:SS> <DAY> <ABBREVIATED MONTH> <YEAR>`
- Manually configure hardware clock (calendar) with `# calendar set <HH:MM:SS> <DAY> <ABBREVIATED MONTH> <YEAR>`
	- Sync the calendar with the clock using `# clock update-calendar`
	- Sync the clock to the calendar using `# clock read-calendar`
- Configure the timezone with `(config)# clock timezone <TIMEZONE NAME> <HOURS OFFSET FROM UTC> <MINUTES OFFSET FROM UTC>`
- Configure daylight savings time with `(config)# clock summer-time <TIMEZONE NAME> recurring {WEEK NUMBER TO START ON | first | last} <WEEKDAY> <MONTH> <HH:MM> {WEEK NUMBER TO END ON | first | last} <WEEKDAY> <MONTH> <HH:MM> [OFFSET IN MINUTES (optional)]`
## NTP Basics
- Keeps clocks synced across a network
- NTP clients request the time from NTP servers ^5b4eed
	- A device can be an NTP server and an NTP client at the same time
- The distance of an NTP server from the original reference clock is called stratum
	- Higher stratum = less reliable
- Uses UDP 123
### NTP Hierarchy
- Reference clocks = stratum 0
- NTP servers that get their time directly from reference clocks = stratum 1 (also called primary servers)
- NTP servers that get their time directly from stratum 1 servers = stratum 2
- NTP servers that get their time directly from stratum 2 servers = stratum 3
- Essentially, stratum k servers get their time from stratum k - 1 servers where k = 0 is the reference clock
	- However, the maximum stratum is stratum 15. No devices will sync to stratum 15 as it is considered unreliable
- Devices can peer with devices in their stratum to provide a more accurate time (symmetric active mode)
- NTP client can sync to multiple NTP servers
- NTP servers that get their time from other NTP servers (>= stratum 2) are called secondary servers
## NTP Configuration
- Configure a device to use a given NTP server with `(config)# ntp server <IP ADDRESS> [prefer]`
	- You can specify multiple; the device will always select either the best one or the preferred one
- Check all NTP associations with `# show ntp associations`
- Check NTP status with `# show ntp status`
	- Shows if clock is synced, the device's stratum, and its reference clock
- Configure the calendar and clock on a device using `(config)# ntp update-calendar`
- An NTP client automatically becomes an NTP server, but to manually configure a device as an NTP server use `(config)# ntp master [stratum level]` ^f6341e
	- Default stratum level is 8
- Select the interface to connect to the NTP server with `(config)# ntp source <interface>`
- Enable NTP symmetric active mode using `(config)# ntp peer <IP ADDRESS OF PEER>`
- NTP authentication is an optional configuration that ensures clients only sync to the intended servers
	- Enable with `(config)# ntp authenticate`
	- Create the NTP authentication key(s) with `(config)# ntp authentication-key <key-number> md5 <password>`
	- Specify the trusted key(s) with `(config)# ntp trusted-key <key-number>`
	- Specify which key to use for the server with `(config)# ntp server <IP ADDRESS> key <key-number>`
		- This command is not used on the server, it's used on the clients
